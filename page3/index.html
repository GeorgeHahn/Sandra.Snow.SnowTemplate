<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="last-modified" content="2014-09-30T03:15:16.7936837-04:00" />
    <title>Generic Maker</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/style.css" />
    <link rel="canonical" href="http://www.genericmaker.com/page3/" />
</head>
<body class="home blog">
    <div id="page" class="hfeed site">
        <header id="masthead" class="site-header fancy-container lightgreen" role="banner">
            <hgroup>
                <h1 class="site-title"><a href="/" title="genericmaker.com" rel="home">Generic Maker</a></h1>
                <h2><small>Written by George Hahn</small></h2>
            </hgroup>
            <img src="http://www.gravatar.com/avatar/48c0c409de48c55d7e1f1e3f151aa600?s=200" />
            <nav role="navigation" class="site-navigation main-navigation">
                <h1 class="assistive-text">Menu</h1>
                <div class="assistive-text skip-link"><a href="#content" title="Skip to content">Skip to content</a></div>
                <div class="menu">
                    <ul>
                        <!--li><a href="/about">About</a></li-->
                        <li><a href="/category">Categories</a></li>
                        <li><a href="/archive">Archive</a></li>
                        <li><a href="/rss">RSS</a> / <a href="/feed">Atom</a></li>
                    </ul>
                </div>
            </nav>
        </header>
        <div id="main">
            <div id="primary" class="site-content">
                <div id="content" role="main">
                  

  <ul class="posts">
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2013/01/ugly-duck-model-binding-in-nancy.html">Ugly Duck Model Binding in Nancy</a> 
        <span>posted on 27 Jan 2013</span>
      </h1> 
      
      <p>It's been a while since I last wrote about my pet web development project. I have made a couple large changes - most importantly, I am now using RavenDB. The second big change is that I have begun dual booting Windows 8 as my development system. While running Windows in a VM is enough to get into Visual Studio, the little pauses began to drive me crazy. I went out and bought a 240 GB Corsair Force GT and couldn't be happier.</p>

<p>Onto my main reason for writing this post - data binding!</p>

<p>I ran into an issue when attempting to bind a HTTP POST to a complex type. The type I was attempting to bind to was <em>QuestionModel</em>, as defined below.</p>

<pre><code>public class QuestionModel
{
 public string Question;
 public List&lt;AnswerModel&gt; Answers;
 public int CorrectAnswer;
 public string Section;
}

public class AnswerModel
{
 public int Id;
 public ChemicalModel ChemicalModel;
}

public class ChemicalModel
{
 public string SMILESString;
}
</code></pre>

<p>Binding to the base <em>QuestionModel</em> variables was no problem, <em>this.Bind<QuestionModel>()</em> worked great. The problem came about in binding to the <em>List of AnswerModels</em> - namely, in that binding simply didn't happen. After a lot of searching, I came across a <a href="http://stackoverflow.com/questions/11649385/nancy-model-binding-to-child-class">StackOverflow post</a> regarding binding to types with complex children. It looks like the proper way to handle this situation is to write a custom model binder. One alternative I did not investigate was POSTing a JSON object.</p>

<p>Rather than do things the right way, I chose to apply some ugly duck tape.</p>

<pre><code>Post["/add"] = o =&gt;
 {
  // Doesn't bind much
  var question = this.Bind&lt;QuestionModel&gt;();

  // Bind the rest
  for (int i = 0; i &lt; 20; i++) // Bind a max of 20 children
  {
   bool hitSomething = false;
   if (Request.Form["Answers[" + i + "].AnswerString"] != null) // Bind the AnswerString property
   {
    while (question.Answers.Count &lt;= i) // If the index doesn't exist yet, create it and every index before
     question.Answers.Add(new AnswerModel());
    question.Answers[i].AnswerString = Request.Form["Answers[" + i + "].AnswerString"];
    hitSomething = true;
   }

   if (Request.Form["Answers[" + i + "].SMILESString"] != null) // Bind the SMILESString property
   {
    while (question.Answers.Count &lt; i - 1)
     question.Answers.Add(new AnswerModel());
    question.Answers[i].ChemicalModel =
     new ChemicalModel(Request.Form["Answers[" + i + "].SMILESString"]);
    hitSomething = true;
   }
   if (!hitSomething)
    break;
  }

  DocumentSession.Store(question);
  DocumentSession.SaveChanges();

  Model.question = question;
  return View["ShowQuestion", Model];
 };
</code></pre>

<p>This is going to come back to bite me shortly, but it is adequate for the time being. I suppose the moral of the story today is that if you find yourself needing a model binder that is capable of binding to array-indexed names, bother me - hopefully I'll have written it by the time you read this. </p>

      <p><a href="/2013/01/ugly-duck-model-binding-in-nancy.html">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2013/01/circuitsio-vs-upverter.html">Circuits.IO vs Upverter</a> 
        <span>posted on 19 Jan 2013</span>
      </h1> 
      
      <p><img src="/images/circuitsioVSupverter.jpg" alt="" /></p>

<p>There are currently two big players in the online <a href="http://en.wikipedia.org/wiki/Electronic_design_automation">EDA</a> space. Let's put them side by side and see which one comes out on top!</p>

<h1>General Features</h1>

<p><img src="/images/UpverterAddComponent.png" alt="" /></p>

<p><em>Upverter gives detailed part information during selection</em></p>

<h3>Upverter</h3>

<ul>
<li>Octopart integration</li>
<li>Bill of materials with pricing through Octopart</li>
<li>GitHub integration</li>
<li>Open format files - export to KiCad, gEDA, Fritzing, Eagle, and more.</li>
<li>Circuit import</li>
<li>All changes are recorded</li>
<li>Custom comment system</li>
<li>Said to have simulation capability; was unable to get it to work</li>
</ul>

<p><img src="/images/CircuitIOAddComponent.png" alt="" /></p>

<p><em>Circuits.io gives a brief summary of each part</em></p>

<h3>Circuits.io</h3>

<ul>
<li>Octopart integration</li>
<li>Bill of materials with pricing through Octopart</li>
<li>Excellent tutorial videos</li>
<li>Comments powered by DISQUS</li>
</ul>

<h2>Winner: Upverter</h2>

<p>While both applications show part information from Octopart, Upverter's implementation is much more seamless. There is rarely a time where one must visit the Octopart website for additional information. Combined with their powerful open source import/export library, Upverter easily takes the crown for general features. Both apps have good BOM (bill of materials) and commenting implementations. It is worth noting that Circuit.io's comments are powered by DISQUS, and - as usual - they feel like glued on third party controls.</p>

<h1>Schematic Capture</h1>

<p><img src="/images/CircuitIOAlignment.png" alt="" /></p>

<p><em>Circuit.io's part alignment feature</em></p>

<h3>Circuits.io</h3>

<ul>
<li>Innovative part alignment feature</li>
<li>Generic parts</li>
<li>Can't manually place wires</li>
<li>Can't graphically place signal lines</li>
<li>Cannot change component reference description (particularly annoying because part prefixes cannot be changed without creating a new device)</li>
<li>No visible grid</li>
<li>Parts are zero indexed with no way to change</li>
</ul>

<h3>Upverter</h3>

<ul>
<li>Multiple selection</li>
<li>Visible grid</li>
<li>Can edit reference descriptions</li>
<li>Substandard search tool</li>
</ul>

<h2>Winner: Upverter</h2>

<p>With multiple part selection and a visible grid, drawing a circuit in Upverter feels identical to drawing a circuit in a desktop EDA application. Circuits.io departs from the feel of traditional EDA applications, but does so in a very intuitive way. I was particularly impressed with their part alignment tool - something I've enjoyed in GUI designers in the past. The problem with Circuit.io's schematic capture is that expected features like part editing were nowhere to be found. Another big pet peeve of mine was that signal wires could not be moved manually. While I love the idea of having one less thing to worry about, I quickly found myself tweaking the placement of parts just to make the wires look less tangled. Both tools have a lot of potential, but they are going to need some features before they will be usable in larger designs - for example, neither has a way to define a bus with multiple signal wires.</p>

<h1>Circuit Board Layout</h1>

<p><img src="/images/UpverterLayout.png" alt="" /></p>

<p><em>Test layout from Upverter</em></p>

<h3>Upverter</h3>

<ul>
<li>Multiple selection</li>
<li>Visible grid w/ snapping</li>
<li>Custom grid sizes</li>
<li>Custom vias</li>
<li>Doesn't give a list of premade packages for all parts</li>
<li>Polyfills are complicated to use (I had to ask Upverter support how to use them. Apparently this tool was launched recently, so we can expect improvements soon.)</li>
<li>Had some trouble with generic parts - could not add a footprint for the built-in BJTs</li>
<li>Cannot restore deleted reference descriptor text</li>
<li>Added text size cannot be changed</li>
<li>Part alignment marks are visually intrusive</li>
</ul>

<p><img src="/images/CircuitsIOLayout.png" alt="" /></p>

<p><em>Test layout from Circuits.io</em></p>

<h3>Circuits.io</h3>

<ul>
<li>Excellent part alignment tool</li>
<li>Polyfills are easy to create and are awesome by default</li>
<li>Gives a list of available packages for all parts</li>
<li>Keeps all text facing the same direction</li>
<li>Circuit board outline can be dragged around
Test layout from Circuits.io</li>
<li>Initial rat's nest creation is very tedious - parts are stacked on top of each other and can be hard to select (and easy to create traces when attempting to drag)</li>
<li>No apparent way to add text labels</li>
<li>Traces are hard to delete (select trace, press escape, press delete)</li>
<li>Dragging components attempts to keep traces intact. Cute, but often painful.</li>
<li>Trace widths cannot be changed on the fly</li>
<li>No way to view net names</li>
</ul>

<h2>Winner: Circuits.io</h2>

<p>Circuits.io has a clear lead in circuit board layout. Their friendly part alignment tool is present, along with an intuitive implementation of polyfills (for ground planes, etc). The most glaring issue with both tools was trace placement - traces are universally troublesome to place, move, and tear up. Circuits.io was slightly worse in this regard - to tear up a trace, one must select it, press ESC to cancel drawing a new trace, and then press delete. To be competitive with desktop based layout tools, both websites will need significant work in this area.</p>

<h1>Platform</h1>

<h3>Circuits.io</h3>

<ul>
<li>Collaboration</li>
<li>Funding</li>
<li>Sharing</li>
<li>Manufacturing (PCBs only)</li>
</ul>

<h3>Upverter</h3>

<ul>
<li>Collaboration</li>
<li>Sharing</li>
<li>Manufacturing (PCBs only)</li>
</ul>

<h2>Winner: Circuits.io</h2>

<p>This is a category where web applications really start to show their power. With collaboration and sharing built in from the start, both websites are natural choices for open source hardware. Circuits.io has an advantage in their choice of business model - they are building a manufacturing and funding platform that will enable hobbyists and help fund further development. On the other hand, Upverter's business model is largely centered around people and businesses paying for private design slots and simulation CPU cycles. While their tool is passable for hobbyist use, they are far from a state where they can compete with desktop based tools. Upverter also provides PCB manufacturing facilities, but it feels like a second class feature.</p>

<h1>Overall Winner: Circuits.io</h1>

<p>Both tools are equally usable and both have their share of annoyances and shortcomings. While it is hard to pick one based on features alone, Circuits.io is an easy choice when the overall platform is considered. Circuits.io currently has a more solid business model than Upverter. Even so, that could change overnight if, for example, Upverter joined up with Tindie as a funding and commerce platform.</p>

<p>To get familiar with each application, I drew a simple 2 transistor LED blinker circuit. I kept the circuit layout single sided. Due to the design of the circuit, a trace must either cross between leads on a component or move to a second signal plane. In both layouts, I routed this trace between the pins of a SOT23 transistor - this goes against best practices, so I would warn against manufacture of either design.</p>

<p><a href="http://www.circuits.io/circuits/1837">Circuits.io test project</a></p>

<p><a href="https://upverter.com/GeorgeHahn/ebe6364f9b68e3d5/Upverter-Comparison/">Upverter test project</a></p>

<p><strong>Shout out to <a href="https://www.circuitlab.com/">CircuitLab</a> for having an excellent web based schematic capture and simulation application.</strong></p>

      <p><a href="/2013/01/circuitsio-vs-upverter.html">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2013/01/moonjar-concept.html">MoonJar Concept</a> 
        <span>posted on 14 Jan 2013</span>
      </h1> 
      
      <p><img src="/images/MoonJar_Final.jpg" alt="" /></p>

<p>I drew this out a few years ago. The design is all wrong, but I like the concept. </p>

      <p><a href="/2013/01/moonjar-concept.html">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2013/01/giving-away-ibm-5150.html">Giving away an IBM 5150</a> 
        <span>posted on 04 Jan 2013</span>
      </h1> 
      
      <p>This is an IBM 5150 my boss was going to throw away. It works - and even boots faster than my phone! A DOS 2.0 floppy (5 1/4") is in the boot drive.</p>

<p>I am located in central NJ, you are welcome to pick up or pay shipping.</p>

<p><img src="/images/2013-01-03+00.40.37.jpg" alt="" /></p>

<p><img src="/images/2013-01-03+00.41.12.jpg" alt="" /></p>

<p><img src="/images/2013-01-03+00.41.31.jpg" alt="" /></p>

<p><img src="/images/2013-01-03+00.41.40.jpg" alt="" /></p>

<p><img src="/images/2013-01-03+00.42.09.jpg" alt="" /></p>

<p><img src="/images/2013-01-03+00.42.24.jpg" alt="" /></p>

<p><img src="/images/2013-01-03+00.42.32.jpg" alt="" /></p>

<p><img src="/images/2013-01-03+00.42.48.jpg" alt="" /></p>

<p><img src="/images/2013-01-03+00.42.59.jpg" alt="" /></p>

<p><img src="/images/2013-01-03+00.43.05.jpg" alt="" /></p>

<p><img src="/images/2013-01-03+00.43.14.jpg" alt="" /></p>

<p><img src="/images/2013-01-03+00.43.27.jpg" alt="" /></p>

<p><img src="/images/2013-01-03+00.43.35.jpg" alt="" /></p>

<p><img src="/images/2013-01-04+18.20.28.jpg" alt="" /></p>

<p><img src="/images/2013-01-04+18.20.34.jpg" alt="" /></p>

<p><img src="/images/2013-01-04+18.20.41.jpg" alt="" /></p>

<p><img src="/images/2013-01-04+18.21.17.jpg" alt="" /></p>

<p><img src="/images/2013-01-04+18.21.37.jpg" alt="" /></p>

<p><img src="/images/2013-01-04+18.21.55.jpg" alt="" /></p>

<p><img src="/images/2013-01-04+18.22.00.jpg" alt="" /></p>

<p><img src="/images/2013-01-04+18.22.18.jpg" alt="" /></p>

      <p><a href="/2013/01/giving-away-ibm-5150.html">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2012/12/in-support-of-net-on-embedded-systems.html">In Support of .Net on Embedded Systems</a> 
        <span>posted on 29 Dec 2012</span>
      </h1> 
      
      <p>I am going to address some of the hostility towards .Net on embedded systems - known as the .Net Micro framework, or NetMF.</p>

<p>Let's take a quick look at the benefits of .Net:</p>

<ul>
<li>Better developer productivity</li>
<li>Visual Studio &amp; plugins</li>
<li>Strong debugging environment</li>
<li>Huge FOSS code ecosystem</li>
</ul>

<p>The costs:</p>

<ul>
<li>Loss of deterministic real time behavior</li>
<li>RAM</li>
<li>Flash</li>
</ul>

<p>Judging by this quick cost-benefit analysis, NetMF doesn't make sense in an environment where hard real time is an absolute requirement. Other than that, RAM and flash are cheap. In many cases, there is a 2 to 4 dollar difference between non-NetMF capable processors and those that are. Seems like a no-brainer for any quick-turn, low quantity shop.</p>

<p>Let's take a look at some basic code to toggle a pin in C:</p>

<pre><code>#include &lt;mfr_library.h&gt;

int main (void)
{
    LED_TRIS_BIT = PIN_OUTPUT;

    while(1)
    {
        LED ^= 1;
    }
}
</code></pre>

<p>And in NetMF:</p>

<pre><code>using System;
using Microsoft.SPOT;
using Microsoft.SPOT.Hardware;

namespace PinToggling
{
    public class Program
    {
        public static void Main()
        {
            OutputPort port = new OutputPort(Cpu.Pin.GPIO_Pin1, false);
            bool value = false;

            while (true)
            {
                port.Write(value);
                value ^= true;
            }
        }
    }
}
</code></pre>

<p>Ignoring the header file(s) for the C code, this example shows a nearly 2x increase in the number of lines required.</p>

<p>Now for something that should also be pretty easy, toggling an LED every second:</p>

<pre><code>#include &lt;mfr_library.h&gt;

byte _1ms_tick;

INTERRUPT_HANDLER OneMillisecondTick (void)
{
    _1ms_tick = 1;
}

void WaitOneSecond (void)
{
    unsigned short counter;
    for(counter = 0; counter &lt; 1000; counter++)
    {
        while(!_1ms_tick)
            NOP();
        _1ms_tick = 0;
    }
}

int main (void)
{
    Configure_Interrupt();
    LED_TRIS_BIT = PIN_OUTPUT;

    while(1)
    {
        LED = !LED;
        WaitOneSecond();
    }
}
</code></pre>

<p>And in NetMF:</p>

<pre><code>using System;
using System.Threading;
using Microsoft.SPOT;
using Microsoft.SPOT.Hardware;

namespace PinToggling
{
    public class Program
    {
        public static void Main()
        {
            OutputPort port = new OutputPort(Cpu.Pin.GPIO_Pin1, false);
            bool value = false;

            while (true)
            {
                Thread.Sleep(1000);
                port.Write(value);
                value ^= true;
            }
        }
    }
}
</code></pre>

<p>And here's where the benefits of C# start to become apparent. Adding a delay only took one extra line, whereas it took 20 in C. Here, a user would have to know how interrupts work on a specific processor. They would also have to know how the compiler has defined the various numeric types. Is it byte, BYTE, uint8, char, or something different? C# doesn't hide all of this complexity, but it does standardize it. Need eight unsigned bits? Use an unsigned byte, easy. Need 32 signed bits? Use an int. Again, easy.</p>

<p>Less memorization for the developer means maintainable code, written sooner, and with fewer bugs. That is why embedded systems should be developed on the .Net Micro Framework. </p>

      <p><a href="/2012/12/in-support-of-net-on-embedded-systems.html">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2012/12/aspnet-newbie-protip.html">ASP.Net Newbie Protip</a> 
        <span>posted on 26 Dec 2012</span>
      </h1> 
      
      <p>When building ASP.NET projects and hosting with local IIS, don't play with the build output path in Visual Studio. The issue here is that IIS Express loads libraries from the bin\ directory. Change that to something like bin\Release\, and the running code is no longer updated when Visual Studio builds.</p>

<p>A simple gotcha, but it may take a little coffee to get past if you haven't experienced it before.</p>

<p><img src="/images/aspnet_buildpath.png" alt="" /></p>

<p>PS: I dug around in an attempt to find a setting related to this path, but was unable to. Apologies!</p>

      <p><a href="/2012/12/aspnet-newbie-protip.html">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2012/12/journal-database-is-finally-working-and.html">Journal: Database is Finally Working and Enabling Sessions.</a> 
        <span>posted on 16 Dec 2012</span>
      </h1> 
      
      <p><strong>Finally</strong>, I can write some code. First things first, though, here's what I had to do to get to this point.</p>

<p>I am running on a fairly fresh Windows 8 virtual machine with VS2012.</p>

<p>Installed EF5, Nancy, and Nancy.Hosting.Aspnet from NuGet.</p>

<p>Added this to web.config</p>

<pre><code>&lt;connectionStrings&gt;
  &lt;add name="QAContext" 
    providerName="System.Data.SqlClient"
    connectionString="Server=(LocalDB)\v11.0; Integrated Security=True; MultipleActiveResultSets=True"/&gt;
&lt;/connectionStrings&gt; 
</code></pre>

<p>If memory serves, that's all it took. My sample code looks something like this</p>

<pre><code>using (var db = new QAContext())
{
    var user = new User();
    user.Name = userName;
    db.Users.Add(user);
    db.SaveChanges();
}
</code></pre>

<p>And it runs! I can query db with LINQ (though I am not very skilled with LINQ), and view the database in the Server Explorer window.</p>

<p>Now, I'm going to enable cookie based sessions. To do this, I'll subclass DefaultNancyBootstrapper and override the ApplicationStartup method.</p>

<pre><code>public class Bootstrapper: DefaultNancyBootstrapper
{
    protected override void ApplicationStartup(TinyIoCContainer container,
                                               IPipelines pipelines)
    {
        CookieBasedSessions.Enable(pipelines);
    }
}
</code></pre>

<p>With sessions enabled, we can now put something like this in the constructor of a class that derives from NancyModule to test sessions.</p>

<pre><code>Get["/sessiontest/{val}"] = parameters =&gt; { 
    Session["test"] = parameters.val.ToString();
    return Session["test"].ToString();
};

Get["/sessiontest"] = parameters =&gt; Session["test"].ToString();
</code></pre>

<p>Now localhost/sessiontest/testtesttest will show "testtesttest" and http://localhost:15818/sessiontest will show the same. </p>

      <p><a href="/2012/12/journal-database-is-finally-working-and.html">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2012/12/journal-starting-out-with-nancy-on-mono_16.html">Journal: Starting out with Nancy on Mono Pt.3</a> 
        <span>posted on 16 Dec 2012</span>
      </h1> 
      
      <p>In the last blog post, I had some trouble finding an ORM layer I could tolerate. Since then, I have built mono 3.0.3 from source (master/df22423 Sat Dec 15 04:31:04 EST 2012). It wasn't easy - there was a lot of black magic involved. Even once I had the mono compiler and libraries built, I was unable to build Entity Framework from source. My solution was to get the EF5 binary from NuGet - so there wasn't really any point to my building mono from source!</p>

<p>So, if you're here and you want to use EF, don't build it from source. Take the easy way out and download the binary from NuGet! (Not that I want to discourage anyone from contributing to an OSS project, but if you're reading this, you're probably more interested in Nancy &amp; WebDev than ORM guts.)</p>

<p><strong>I was unable to get the MySQL bindings working, so I moved into a Windows 8 VM. From here on out, I'll be using EF5 (possibly moving to EF6) on "LocalDB".</strong></p>

      <p><a href="/2012/12/journal-starting-out-with-nancy-on-mono_16.html">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2012/12/journal-starting-out-with-nancy-on-mono_15.html">Journal: Starting out with Nancy on Mono Pt.2</a> 
        <span>posted on 15 Dec 2012</span>
      </h1> 
      
      <p>Hello world is great, but it's time for some real code. I plan to develop a simple flash-card style application to help me study organic chemistry.</p>

<p><em>I'll be developing on Debian Testing/Mono with MonoDevelop.</em></p>

<p><strong>FAIL. Stop reading now, I gave up with Massive and am switching over to EntityFramework. Thus, I am currently building Mono from source.</strong></p>

<h2>Setup</h2>

<p>I don't like the XML mappings that are used with NHibernate, so I am going to use the excellent "<a href="https://github.com/robconery/massive">Massive</a>" from Rob Connery. Since I'm using MySQL, I'll be working with Alexander Nyquist's <a href="https://github.com/alexandernyquist/massive-mysql">MySQL fork</a> of Massive.</p>

<p>Why Massive?</p>

<p>Tiny and simple, a perfect compliment for our tiny and simple web framework.</p>

<p>First things first, let's fork massive-mysql. I put it into a separate project; you don't have to. Whichever route you choose, you'll have to add some references to your project.</p>

<p>In the project that contains your Massive.*.cs file:</p>

<ul>
<li>Install mysql.data from NuGet</li>
<li>Add references to:
<ul>
<li>Microsoft.CSharp</li>
<li>System.Configuration</li>
<li>System.Core</li>
<li>System.Data</li>
<li>System.Data.Linq</li>
<li>System.Dynamic</li>
</ul></li>
</ul>

<p>Let's check that everything compiles and move on to some code.</p>

<p><img src="/images/circuitsioVSupverter.jpg" alt="" /></p>

<p><em>My project after adding references</em></p>

<h2>ORM</h2>

<p>The first code I'll write is the ORM code. To prepare, I have drawn a rough diagram of the tables the app will need.</p>

<p><img src="/images/UpverterAddComponent.png" alt="" /></p>

      <p><a href="/2012/12/journal-starting-out-with-nancy-on-mono_15.html">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2012/12/journal-starting-out-with-nancy-on-mono.html">Journal: Starting out with Nancy on Mono Pt.1</a> 
        <span>posted on 12 Dec 2012</span>
      </h1> 
      
      <p>Before starting out, I installed NuGet, per these combined instructions:</p>

<p><a href="http://monomvc.wordpress.com/2012/03/06/nuget-on-mono/">http://monomvc.wordpress.com/2012/03/06/nuget-on-mono/</a> <br/>
<a href="http://grhughes.com/32/using-nuget-in-mono">http://grhughes.com/32/using-nuget-in-mono</a> <br/>
<a href="http://nuget.codeplex.com/workitem/1271">http://nuget.codeplex.com/workitem/1271</a></p>

<p>Special note on the last item there. I had to put Microsoft.Build.dll into the same directory as NuGet.exe before it would run. (Was failing for 'Could not load type 'NuGet.Commands.ProjectFactory')</p>

<p>Now that I was ready to move on to some code, I created a new C# ASP.NET project in MonoDevelop. I'm using MonoDevelop 3.0.5 that I built from source, but all other versions should have this option.</p>

<p>I downloaded the latest Nancy build from their CI server here:
<a href="http://teamcity.codebetter.com/project.html?projectId=project112&amp;tab=projectOverview&amp;guest=true">http://teamcity.codebetter.com/project.html?projectId=project112&amp;tab=projectOverview&amp;guest=true</a></p>

<p>Added references to Nancy.dll and Nancy.Hosting.Aspnet.dll in MonoDevelop.</p>

<p>On the Nancy wiki's into page, there is a Hello World snippet. Before running it, a web.config file must be created.</p>

<p>I found the default configuration here: https://github.com/NancyFx/Nancy/wiki/Hosting-nancy-with-asp.net</p>

<pre><code>&lt;configuration&gt;
  &lt;system.web&gt;
    &lt;compilation debug="true" targetFramework="4.0" /&gt;
    &lt;httpHandlers&gt;
      &lt;add verb="*" type="Nancy.Hosting.Aspnet.NancyHttpRequestHandler" path="*"/&gt;
    &lt;/httpHandlers&gt;
  &lt;/system.web&gt;

  &lt;system.webServer&gt;
    &lt;modules runAllManagedModulesForAllRequests="true"/&gt;
    &lt;validation validateIntegratedModeConfiguration="false"/&gt;
    &lt;handlers&gt;
      &lt;add name="Nancy" verb="*" type="Nancy.Hosting.Aspnet.NancyHttpRequestHandler" path="*"/&gt;
    &lt;/handlers&gt;
  &lt;/system.webServer&gt;
&lt;/configuration&gt;
</code></pre>

<p>Pressed <em>Start program without debugging</em> and watched magic happen! </p>

      <p><a href="/2012/12/journal-starting-out-with-nancy-on-mono.html">Read more...</a></p>
    </li>
  </ul> 

  <!-- Pagination links -->
  <div id="post-pagination" class="pagination">

   
      <p class="previous">
        <a href="/page2">Previous Page</a>
        </p>


    <p class="previous">
      <a href="/page4">Next Page</a>
    </p>

  </div>


                </div>
                <!-- #content -->
            </div>
            <!-- #primary .site-content -->

            <div id="secondary" class="widget-area fancy-container lightred" role="complementary">
                <aside id="text-5" class="widget widget_text">
                    <h1 class="widget-title">Follow</h1>
                    <div class="textwidget logos">
                        <a href="https://twitter.com/George_Hahn" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://twitter.com']);"><img src="/stylesheets/images/twitter.png"></a>
                        <!--a href="https://www.linkedin.com/profile/view?id=250123824" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://www.linkedin.com']);"><img src="/stylesheets/images/linkedin.png"></a-->
                        <a href="https://plus.google.com/u/0/114392689355099010616/" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://plus.google.com']);"><img src="/stylesheets/images/googleplus.png"></a>
                        <a href="https://github.com/GeorgeHahn" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://github.com']);"><img src="/stylesheets/images/github.png"></a>
                        <a href="https://stackoverflow.com/users/1042744/georgeh" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://stackoverflow.com']);"><img src="/stylesheets/images/stackoverflow.png"></a>
                    </div>
                        
                        <a href="https://tindie.com/shops/George/?ref=offsite_badges&utm_source=sellers_George&utm_medium=badges&utm_campaign=badge_small" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://github.com']);"><img src="https://s3.amazonaws.com/tindie-static/badges/tindie-small.png"></a>
                </aside>
                <aside id="archives-4" class="widget widget_archive">
                    <h1 class="widget-title">Archive</h1>
                    <ul class="posts">
                          <li><a href="/archive#2014September">September, 2014</a></li>
                          <li><a href="/archive#2014May">May, 2014</a></li>
                          <li><a href="/archive#2014April">April, 2014</a></li>
                          <li><a href="/archive#2014March">March, 2014</a></li>
                          <li><a href="/archive#2014February">February, 2014</a></li>
                          <li><a href="/archive#2014January">January, 2014</a></li>
                          <li><a href="/archive#2013October">October, 2013</a></li>
                          <li><a href="/archive#2013September">September, 2013</a></li>
                          <li><a href="/archive#2013August">August, 2013</a></li>
                          <li><a href="/archive#2013July">July, 2013</a></li>
                          <li><a href="/archive#2013May">May, 2013</a></li>
                          <li><a href="/archive#2013April">April, 2013</a></li>
                          <li><a href="/archive#2013March">March, 2013</a></li>
                          <li><a href="/archive#2013February">February, 2013</a></li>
                          <li><a href="/archive#2013January">January, 2013</a></li>
                          <li><a href="/archive#2012December">December, 2012</a></li>
                          <li><a href="/archive#2012November">November, 2012</a></li>
                          <li><a href="/archive#2012October">October, 2012</a></li>
                          <li><a href="/archive#2012September">September, 2012</a></li>
                          <li><a href="/archive#2012May">May, 2012</a></li>
                          <li><a href="/archive#2012April">April, 2012</a></li>
                          <li><a href="/archive#2012February">February, 2012</a></li>
                          <li><a href="/archive#2012January">January, 2012</a></li>
                          <li><a href="/archive#2011July">July, 2011</a></li>
                          <li><a href="/archive#2011May">May, 2011</a></li>
                    </ul>
                </aside>
            </div>
            <!-- #secondary .widget-area -->


        </div>
        <!-- #main -->

        <footer id="colophon" class="site-footer" role="contentinfo">
            <div class="site-info">
                Powered by <a href="https://github.com/Sandra/Sandra.Snow" rel="generator">Sandra.Snow</a>.	
            </div>
            <!-- .site-info -->
        </footer>
        <!-- #colophon .site-footer -->
    </div>
    <!-- #page .hfeed .site -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src='/javascripts/prettify.js' type='text/javascript'></script>
    
    <script type="text/javascript">
var _gaq = _gaq || [];

_gaq.push(['_setAccount', 'UA-36202871-1']);
_gaq.push(['_trackPageview']);
        
(function () {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
})();
</script>
    
    <script type='text/javascript'>
      $(function () {
        $("pre code").parent().each(function () {
          if (!$(this).hasClass("prettyprint")) {
            $(this).addClass("prettyprint");
            a = true
          }
        });

        prettyPrint();
      });
    </script>
</body>
</html>
